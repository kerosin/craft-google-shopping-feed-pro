{# @var craft \craft\web\twig\variables\CraftVariable #}
{#
/**
 * @author    kerosin
 * @copyright Copyright (c) 2021 kerosin
 * @link      https://github.com/kerosin
 * @package   GoogleShoppingFeedPro
 * @since     1.0.0
 */
#}

{% import '_includes/forms' as forms %}

{% do view.registerAssetBundle('kerosin\\googleshoppingfeedpro\\assetbundles\\googleshoppingfeedpro\\GoogleShoppingFeedProAsset') %}

{% set fieldOptions = settings.getFieldOptions() %}
{% set isCommerceInstalled = craft.app.plugins.isPluginInstalled('commerce') %}
{% set customValueOptions = [
    {label: '', value: ''},
    {label: 'Custom Value...'|t('google-shopping-feed-pro'), value: constant('OPTION_CUSTOM_VALUE', settings)}
] %}

{% if craft.app.plugins.pluginInfo('google-shopping-feed-pro').isTrial %}
    <div class="warning-alert warning with-icon">
        {{ 'This is a TRIAL version. The feed is limited to a few items.'|t('google-shopping-feed-pro') }}
    </div>
{% endif %}

{% if isCommerceInstalled %}
    <h2>{{ 'General'|t('google-shopping-feed-pro') }}</h2>

    <h3>{{ 'Variants'|t('google-shopping-feed-pro') }}</h3>

    {{ forms.lightswitchField({
        label: 'Include Variants'|t('google-shopping-feed-pro'),
        id: 'includeVariants',
        name: 'includeVariants',
        on: settings.includeVariants,
        errors: settings.getErrors('includeVariants'),
        toggle: 'includeVariants-dependent-fields'
    }) }}

    <div id="includeVariants-dependent-fields"{{ not settings.includeVariants ? ' class="hidden"' }}>
        {{ forms.lightswitchField({
            label: 'Use Product Url for Variants'|t('google-shopping-feed-pro'),
            id: 'useProductUrl',
            name: 'useProductUrl',
            on: settings.useProductUrl,
            errors: settings.getErrors('useProductUrl')
        }) }}

        {{ forms.lightswitchField({
            label: 'Use Product Data for Variants'|t('google-shopping-feed-pro'),
            id: 'useProductData',
            name: 'useProductData',
            on: settings.useProductData,
            errors: settings.getErrors('useProductData')
        }) }}
    </div>

    <hr>
{% endif %}

<h2>{{ 'Fields Mapping'|t('google-shopping-feed-pro') }}</h2>

<h3>{{ 'Basic Product Data'|t('google-shopping-feed-pro') }}</h3>

{{ forms.selectField({
    label: 'ID'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s unique identifier. Required.'|t('google-shopping-feed-pro'),
    id: 'idField',
    name: 'idField',
    value: settings.idField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('idField')
}) }}

{{ forms.selectField({
    label: 'Title'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s name. Required.'|t('google-shopping-feed-pro'),
    id: 'titleField',
    name: 'titleField',
    value: settings.titleField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('titleField')
}) }}

{{ forms.selectField({
    label: 'Description'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s description. Required.'|t('google-shopping-feed-pro'),
    id: 'descriptionField',
    name: 'descriptionField',
    value: settings.descriptionField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('descriptionField')
}) }}

{{ forms.selectField({
    label: 'Image'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s main image. Required.'|t('google-shopping-feed-pro'),
    id: 'imageLinkField',
    name: 'imageLinkField',
    value: settings.imageLinkField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('imageLinkField')
}) }}

{% set availabilityFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'availabilityField',
                name: 'availabilityField',
                value: settings.availabilityField,
                options: [
                    {label: (isCommerceInstalled ? 'Use Stock Field'|t('google-shopping-feed-pro') : ''), value: ''},
                    {label: 'Custom Value...'|t('google-shopping-feed-pro'), value: constant('OPTION_CUSTOM_VALUE', settings)}
                ]|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'availability-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="availability-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.availabilityField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'availabilityCustomValue',
                    class: 'ltr',
                    name: 'availabilityCustomValue',
                    value: settings.availabilityCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Availability'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s availability. Required.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('availabilityField') ?: settings.getErrors('availabilityCustomValue')
}, availabilityFieldInput) }}

{{ forms.selectField({
    label: 'Price'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s price. Required.'|t('google-shopping-feed-pro'),
    id: 'priceField',
    name: 'priceField',
    value: settings.priceField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('priceField')
}) }}

{% set currencyFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'currencyField',
                name: 'currencyField',
                value: settings.currencyField,
                options: [
                    {label: (isCommerceInstalled ? 'Use Base Currency'|t('google-shopping-feed-pro') : ''), value: ''},
                    {label: 'Custom Value...'|t('google-shopping-feed-pro'), value: constant('OPTION_CUSTOM_VALUE', settings)}
                ]|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'currency-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="currency-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.currencyField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'currencyCustomValue',
                    class: 'ltr',
                    name: 'currencyCustomValue',
                    value: settings.currencyCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Currency'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s price currency.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('currencyField') ?: settings.getErrors('currencyCustomValue')
}, currencyFieldInput) }}

{{ forms.selectField({
    label: 'Sale Price'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s sale price. Optional.'|t('google-shopping-feed-pro'),
    id: 'salePriceField',
    name: 'salePriceField',
    value: settings.salePriceField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('salePriceField')
}) }}

{% set salePriceEffectiveDateFromFieldOptions = [{label: '', value: ''}] %}
{% if isCommerceInstalled %}
    {% set salePriceEffectiveDateFromFieldOptions = salePriceEffectiveDateFromFieldOptions|merge([
        {
            label: 'Use Sale Start Date'|t('google-shopping-feed-pro'),
            value: constant('OPTION_USE_SALE_START_DATE', settings)
        }
    ]) %}
{% endif %}

{{ forms.selectField({
    label: 'Sale Price Effective Date From'|t('google-shopping-feed-pro'),
    instructions: 'The date during which the sale price applies. Optional.'|t('google-shopping-feed-pro'),
    id: 'salePriceEffectiveDateFromField',
    name: 'salePriceEffectiveDateFromField',
    value: settings.salePriceEffectiveDateFromField,
    options: salePriceEffectiveDateFromFieldOptions|merge(fieldOptions),
    errors: settings.getErrors('salePriceEffectiveDateFromField')
}) }}

{% set salePriceEffectiveDateToFieldOptions = [{label: '', value: ''}] %}
{% if isCommerceInstalled %}
    {% set salePriceEffectiveDateToFieldOptions = salePriceEffectiveDateToFieldOptions|merge([
        {
            label: 'Use Sale End Date'|t('google-shopping-feed-pro'),
            value: constant('OPTION_USE_SALE_END_DATE', settings)
        }
    ]) %}
{% endif %}

{{ forms.selectField({
    label: 'Sale Price Effective Date To'|t('google-shopping-feed-pro'),
    instructions: 'The date during which the sale price applies. Optional.'|t('google-shopping-feed-pro'),
    id: 'salePriceEffectiveDateToField',
    name: 'salePriceEffectiveDateToField',
    value: settings.salePriceEffectiveDateToField,
    options: salePriceEffectiveDateToFieldOptions|merge(fieldOptions),
    errors: settings.getErrors('salePriceEffectiveDateToField')
}) }}

<h3>{{ 'Product Identifiers'|t('google-shopping-feed-pro') }}</h3>

{% set brandFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'brandField',
                name: 'brandField',
                value: settings.brandField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'brand-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="brand-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.brandField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'brandCustomValue',
                    class: 'ltr',
                    name: 'brandCustomValue',
                    value: settings.brandCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Brand'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s brand name. Required for all new products, except movies, books, and musical recording brands.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('brandField') ?: settings.getErrors('brandCustomValue')
}, brandFieldInput) }}

{{ forms.selectField({
    label: 'GTIN'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s Global Trade Item Number (GTIN). Required for all new products with a GTIN assigned by the manufacturer.'|t('google-shopping-feed-pro'),
    id: 'gtinField',
    name: 'gtinField',
    value: settings.gtinField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('gtinField')
}) }}

{{ forms.selectField({
    label: 'MPN'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s Manufacturer Part Number (mpn). Required only if a new product does not have a manufacturer assigned GTIN.'|t('google-shopping-feed-pro'),
    id: 'mpnField',
    name: 'mpnField',
    value: settings.mpnField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('mpnField')
}) }}

{{ forms.selectField({
    label: 'Identifier Exists'|t('google-shopping-feed-pro'),
    instructions: 'Use to indicate whether or not the unique product identifiers (UPIs) GTIN, MPN, and brand are available for a product. Optional.'|t('google-shopping-feed-pro'),
    id: 'identifierExistsField',
    name: 'identifierExistsField',
    value: settings.identifierExistsField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('identifierExistsField')
}) }}

<h3>{{ 'Product Category'|t('google-shopping-feed-pro') }}</h3>

{% set googleProductCategoryFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'googleProductCategoryField',
                name: 'googleProductCategoryField',
                value: settings.googleProductCategoryField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'googleProductCategory-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="googleProductCategory-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.googleProductCategoryField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'googleProductCategoryCustomValue',
                    class: 'ltr',
                    name: 'googleProductCategoryCustomValue',
                    value: settings.googleProductCategoryCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Google Product Category'|t('google-shopping-feed-pro'),
    instructions: 'Google-defined product category for a product. Optional.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('googleProductCategoryField') ?: settings.getErrors('googleProductCategoryCustomValue')
}, googleProductCategoryFieldInput) }}

{{ forms.selectField({
    label: 'Product Type'|t('google-shopping-feed-pro'),
    instructions: 'Product category that you define for a product. Optional.'|t('google-shopping-feed-pro'),
    id: 'productTypeField',
    name: 'productTypeField',
    value: settings.productTypeField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('productTypeField')
}) }}

<h3>{{ 'Additional Product Data'|t('google-shopping-feed-pro') }}</h3>

{{ forms.selectField({
    label: 'Additional Image'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s additional image. Optional.'|t('google-shopping-feed-pro'),
    id: 'additionalImageLinkField',
    name: 'additionalImageLinkField',
    value: settings.additionalImageLinkField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('additionalImageLinkField')
}) }}

<h3>{{ 'Price & Availability'|t('google-shopping-feed-pro') }}</h3>

{{ forms.selectField({
    label: 'Availability Date'|t('google-shopping-feed-pro'),
    instructions: 'The date a preordered or backordered product becomes available for delivery. Required if product availability is set to preorder or backorder.'|t('google-shopping-feed-pro'),
    id: 'availabilityDateField',
    name: 'availabilityDateField',
    value: settings.availabilityDateField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('availabilityDateField')
}) }}

{{ forms.selectField({
    label: 'Cost of Goods Sold'|t('google-shopping-feed-pro'),
    instructions: 'The costs associated with the sale of a particular product as defined by the accounting convention you set up. Optional.'|t('google-shopping-feed-pro'),
    id: 'costOfGoodsSoldField',
    name: 'costOfGoodsSoldField',
    value: settings.costOfGoodsSoldField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('costOfGoodsSoldField')
}) }}

{{ forms.selectField({
    label: 'Expiration Date'|t('google-shopping-feed-pro'),
    instructions: 'The date that a product should stop showing. Optional.'|t('google-shopping-feed-pro'),
    id: 'expirationDateField',
    name: 'expirationDateField',
    value: settings.expirationDateField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('expirationDateField')
}) }}

{{ forms.selectField({
    label: 'Unit Pricing Measure'|t('google-shopping-feed-pro'),
    instructions: 'The measure and dimension of a product as it is sold. Optional (except when required by local laws or regulations).'|t('google-shopping-feed-pro'),
    id: 'unitPricingMeasureField',
    name: 'unitPricingMeasureField',
    value: settings.unitPricingMeasureField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('unitPricingMeasureField')
}) }}

{% set unitPricingMeasureUnitFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'unitPricingMeasureUnitField',
                name: 'unitPricingMeasureUnitField',
                value: settings.unitPricingMeasureUnitField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'unitPricingMeasureUnit-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="unitPricingMeasureUnit-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.unitPricingMeasureUnitField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'unitPricingMeasureUnitCustomValue',
                    class: 'ltr',
                    name: 'unitPricingMeasureUnitCustomValue',
                    value: settings.unitPricingMeasureUnitCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Unit Pricing Measure Unit'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('unitPricingMeasureUnitField') ?: settings.getErrors('unitPricingMeasureUnitCustomValue')
}, unitPricingMeasureUnitFieldInput) }}

{{ forms.selectField({
    label: 'Unit Pricing Base Measure'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s base measure for pricing. Optional (except when required by local laws or regulations).'|t('google-shopping-feed-pro'),
    id: 'unitPricingBaseMeasureField',
    name: 'unitPricingBaseMeasureField',
    value: settings.unitPricingBaseMeasureField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('unitPricingBaseMeasureField')
}) }}

{% set unitPricingBaseMeasureUnitFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'unitPricingBaseMeasureUnitField',
                name: 'unitPricingBaseMeasureUnitField',
                value: settings.unitPricingBaseMeasureUnitField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'unitPricingBaseMeasureUnit-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="unitPricingBaseMeasureUnit-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.unitPricingBaseMeasureUnitField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'unitPricingBaseMeasureUnitCustomValue',
                    class: 'ltr',
                    name: 'unitPricingBaseMeasureUnitCustomValue',
                    value: settings.unitPricingBaseMeasureUnitCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Unit Pricing Base Measure Unit'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('unitPricingBaseMeasureUnitField') ?: settings.getErrors('unitPricingBaseMeasureUnitCustomValue')
}, unitPricingBaseMeasureUnitFieldInput) }}

{{ forms.selectField({
    label: 'Installment'|t('google-shopping-feed-pro'),
    instructions: 'Details of an installment payment plan. Optional.'|t('google-shopping-feed-pro'),
    id: 'installmentField',
    name: 'installmentField',
    value: settings.installmentField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('installmentField')
}) }}

{{ forms.selectField({
    label: 'Subscription Cost'|t('google-shopping-feed-pro'),
    instructions: 'Details a monthly or annual payment plan that bundles a communications service contract with a wireless product. Optional.'|t('google-shopping-feed-pro'),
    id: 'subscriptionCostField',
    name: 'subscriptionCostField',
    value: settings.subscriptionCostField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('subscriptionCostField')
}) }}

{{ forms.selectField({
    label: 'Loyalty Points'|t('google-shopping-feed-pro'),
    instructions: 'The number and type of loyalty points a customer receives when buying a product. Optional.'|t('google-shopping-feed-pro'),
    id: 'loyaltyPointsField',
    name: 'loyaltyPointsField',
    value: settings.loyaltyPointsField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('loyaltyPointsField')
}) }}

<h3>{{ 'Detailed Product Description'|t('google-shopping-feed-pro') }}</h3>

{% set conditionFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'conditionField',
                name: 'conditionField',
                value: settings.conditionField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'condition-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="condition-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.conditionField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'conditionCustomValue',
                    class: 'ltr',
                    name: 'conditionCustomValue',
                    value: settings.conditionCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Condition'|t('google-shopping-feed-pro'),
    instructions: 'The condition of a product at time of sale. Required if a product is used or refurbished. Optional for new products.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('conditionField') ?: settings.getErrors('conditionCustomValue')
}, conditionFieldInput) }}

{% set adultFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'adultField',
                name: 'adultField',
                value: settings.adultField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'adult-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="adult-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.adultField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'adultCustomValue',
                    class: 'ltr',
                    name: 'adultCustomValue',
                    value: settings.adultCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Adult'|t('google-shopping-feed-pro'),
    instructions: 'Indicate a product includes sexually suggestive content. Required if a product contains adult content.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('adultField') ?: settings.getErrors('adultCustomValue')
}, adultFieldInput) }}

{{ forms.selectField({
    label: 'Multipack'|t('google-shopping-feed-pro'),
    instructions: 'The number of identical products sold within a merchant-defined multipack.'|t('google-shopping-feed-pro'),
    id: 'multipackField',
    name: 'multipackField',
    value: settings.multipackField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('multipackField')
}) }}

{{ forms.selectField({
    label: 'Bundle'|t('google-shopping-feed-pro'),
    instructions: 'Indicates a product is a merchant-defined custom group of different products featuring one main product.'|t('google-shopping-feed-pro'),
    id: 'isBundleField',
    name: 'isBundleField',
    value: settings.isBundleField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('isBundleField')
}) }}

{% set energyEfficiencyClassFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'energyEfficiencyClassField',
                name: 'energyEfficiencyClassField',
                value: settings.energyEfficiencyClassField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'energyEfficiencyClass-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="energyEfficiencyClass-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.energyEfficiencyClassField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'energyEfficiencyClassCustomValue',
                    class: 'ltr',
                    name: 'energyEfficiencyClassCustomValue',
                    value: settings.energyEfficiencyClassCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Energy Efficiency Class'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s energy label. Optional (except when required by local law or regulations).'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('energyEfficiencyClassField') ?: settings.getErrors('energyEfficiencyClassCustomValue')
}, energyEfficiencyClassFieldInput) }}

{% set minEnergyEfficiencyClassFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'minEnergyEfficiencyClassField',
                name: 'minEnergyEfficiencyClassField',
                value: settings.minEnergyEfficiencyClassField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'minEnergyEfficiencyClass-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="minEnergyEfficiencyClass-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.minEnergyEfficiencyClassField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'minEnergyEfficiencyClassCustomValue',
                    class: 'ltr',
                    name: 'minEnergyEfficiencyClassCustomValue',
                    value: settings.minEnergyEfficiencyClassCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Minimum energy efficiency class'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s energy label. Optional (except when required by local laws or regulations).'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('minEnergyEfficiencyClassField') ?: settings.getErrors('minEnergyEfficiencyClassCustomValue')
}, minEnergyEfficiencyClassFieldInput) }}

{% set maxEnergyEfficiencyClassFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'maxEnergyEfficiencyClassField',
                name: 'maxEnergyEfficiencyClassField',
                value: settings.maxEnergyEfficiencyClassField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'maxEnergyEfficiencyClass-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="maxEnergyEfficiencyClass-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.maxEnergyEfficiencyClassField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'maxEnergyEfficiencyClassCustomValue',
                    class: 'ltr',
                    name: 'maxEnergyEfficiencyClassCustomValue',
                    value: settings.maxEnergyEfficiencyClassCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Maximum energy efficiency class'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s energy label. Optional (except when required by local laws or regulations).'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('maxEnergyEfficiencyClassField') ?: settings.getErrors('maxEnergyEfficiencyClassCustomValue')
}, maxEnergyEfficiencyClassFieldInput) }}

{% set ageGroupFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'ageGroupField',
                name: 'ageGroupField',
                value: settings.ageGroupField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'ageGroup-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="ageGroup-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.ageGroupField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'ageGroupCustomValue',
                    class: 'ltr',
                    name: 'ageGroupCustomValue',
                    value: settings.ageGroupCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Age Group'|t('google-shopping-feed-pro'),
    instructions: 'The demographic for which a product is intended.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('ageGroupField') ?: settings.getErrors('ageGroupCustomValue')
}, ageGroupFieldInput) }}

{% set colorFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'colorField',
                name: 'colorField',
                value: settings.colorField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'color-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="color-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.colorField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'colorCustomValue',
                    class: 'ltr',
                    name: 'colorCustomValue',
                    value: settings.colorCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Color'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s color(s).'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('colorField') ?: settings.getErrors('colorCustomValue')
}, colorFieldInput) }}

{% set genderFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'genderField',
                name: 'genderField',
                value: settings.genderField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'gender-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="gender-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.genderField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'genderCustomValue',
                    class: 'ltr',
                    name: 'genderCustomValue',
                    value: settings.genderCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Gender'|t('google-shopping-feed-pro'),
    instructions: 'The gender for which a product is intended.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('genderField') ?: settings.getErrors('genderCustomValue')
}, genderFieldInput) }}

{% set materialFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'materialField',
                name: 'materialField',
                value: settings.materialField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'material-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="material-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.materialField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'materialCustomValue',
                    class: 'ltr',
                    name: 'materialCustomValue',
                    value: settings.materialCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Material'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s fabric or material.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('materialField') ?: settings.getErrors('materialCustomValue')
}, materialFieldInput) }}

{% set patternFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'patternField',
                name: 'patternField',
                value: settings.patternField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'pattern-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="pattern-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.patternField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'patternCustomValue',
                    class: 'ltr',
                    name: 'patternCustomValue',
                    value: settings.patternCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Pattern'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s pattern or graphic print.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('patternField') ?: settings.getErrors('patternCustomValue')
}, patternFieldInput) }}

{% set sizeFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'sizeField',
                name: 'sizeField',
                value: settings.sizeField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'size-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="size-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.sizeField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'sizeCustomValue',
                    class: 'ltr',
                    name: 'sizeCustomValue',
                    value: settings.sizeCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Size'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s size.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('sizeField') ?: settings.getErrors('sizeCustomValue')
}, sizeFieldInput) }}

{% set sizeTypeFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'sizeTypeField',
                name: 'sizeTypeField',
                value: settings.sizeTypeField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'sizeType-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="sizeType-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.sizeTypeField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'sizeTypeCustomValue',
                    class: 'ltr',
                    name: 'sizeTypeCustomValue',
                    value: settings.sizeTypeCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Size Type'|t('google-shopping-feed-pro'),
    instructions: 'The apparel product\'s cut.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('sizeTypeField') ?: settings.getErrors('sizeTypeCustomValue')
}, sizeTypeFieldInput) }}

{% set sizeSystemFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'sizeSystemField',
                name: 'sizeSystemField',
                value: settings.sizeSystemField,
                options: customValueOptions|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'sizeSystem-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="sizeSystem-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.sizeSystemField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'sizeSystemCustomValue',
                    class: 'ltr',
                    name: 'sizeSystemCustomValue',
                    value: settings.sizeSystemCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Size System'|t('google-shopping-feed-pro'),
    instructions: 'The country of the size system used by a product.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('sizeSystemField') ?: settings.getErrors('sizeSystemCustomValue')
}, sizeSystemFieldInput) }}

{% set itemGroupIdFieldOptions = [{label: '', value: ''}] %}
{% if isCommerceInstalled %}
    {% set itemGroupIdFieldOptions = itemGroupIdFieldOptions|merge([
        {
            label: 'Use Product ID'|t('google-shopping-feed-pro'),
            value: constant('OPTION_USE_PRODUCT_ID', settings)
        }
    ]) %}
{% endif %}

{{ forms.selectField({
    label: 'Item Group ID'|t('google-shopping-feed-pro'),
    instructions: 'ID for a group of products that come in different versions (variants).'|t('google-shopping-feed-pro'),
    id: 'itemGroupIdField',
    name: 'itemGroupIdField',
    value: settings.itemGroupIdField,
    options: itemGroupIdFieldOptions|merge(fieldOptions),
    errors: settings.getErrors('itemGroupIdField')
}) }}

{{ forms.selectField({
    label: 'Product Length'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s length. Optional.'|t('google-shopping-feed-pro'),
    id: 'productLengthField',
    name: 'productLengthField',
    value: settings.productLengthField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('productLengthField')
}) }}

{% set productLengthUnitFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'productLengthUnitField',
                name: 'productLengthUnitField',
                value: settings.productLengthUnitField,
                options: [
                    {label: (isCommerceInstalled ? 'Use Dimension Unit'|t('google-shopping-feed-pro') : ''), value: ''},
                    {label: 'Custom Value...'|t('google-shopping-feed-pro'), value: constant('OPTION_CUSTOM_VALUE', settings)}
                ]|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'productLengthUnit-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="productLengthUnit-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.productLengthUnitField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'productLengthUnitCustomValue',
                    class: 'ltr',
                    name: 'productLengthUnitCustomValue',
                    value: settings.productLengthUnitCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Product Length Unit'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s length unit.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('productLengthUnitField') ?: settings.getErrors('productLengthUnitCustomValue')
}, productLengthUnitFieldInput) }}

{{ forms.selectField({
    label: 'Product Width'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s width. Optional.'|t('google-shopping-feed-pro'),
    id: 'productWidthField',
    name: 'productWidthField',
    value: settings.productWidthField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('productWidthField')
}) }}

{% set productWidthUnitFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'productWidthUnitField',
                name: 'productWidthUnitField',
                value: settings.productWidthUnitField,
                options: [
                    {label: (isCommerceInstalled ? 'Use Dimension Unit'|t('google-shopping-feed-pro') : ''), value: ''},
                    {label: 'Custom Value...'|t('google-shopping-feed-pro'), value: constant('OPTION_CUSTOM_VALUE', settings)}
                ]|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'productWidthUnit-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="productWidthUnit-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.productWidthUnitField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'productWidthUnitCustomValue',
                    class: 'ltr',
                    name: 'productWidthUnitCustomValue',
                    value: settings.productWidthUnitCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Product Width Unit'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s width unit.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('productWidthUnitField') ?: settings.getErrors('productWidthUnitCustomValue')
}, productWidthUnitFieldInput) }}

{{ forms.selectField({
    label: 'Product Height'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s height. Optional.'|t('google-shopping-feed-pro'),
    id: 'productHeightField',
    name: 'productHeightField',
    value: settings.productHeightField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('productHeightField')
}) }}

{% set productHeightUnitFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'productHeightUnitField',
                name: 'productHeightUnitField',
                value: settings.productHeightUnitField,
                options: [
                    {label: (isCommerceInstalled ? 'Use Dimension Unit'|t('google-shopping-feed-pro') : ''), value: ''},
                    {label: 'Custom Value...'|t('google-shopping-feed-pro'), value: constant('OPTION_CUSTOM_VALUE', settings)}
                ]|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'productHeightUnit-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="productHeightUnit-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.productHeightUnitField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'productHeightUnitCustomValue',
                    class: 'ltr',
                    name: 'productHeightUnitCustomValue',
                    value: settings.productHeightUnitCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Product Height Unit'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s height unit.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('productHeightUnitField') ?: settings.getErrors('productHeightUnitCustomValue')
}, productHeightUnitFieldInput) }}

{{ forms.selectField({
    label: 'Product Weight'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s weight. Optional.'|t('google-shopping-feed-pro'),
    id: 'productWeightField',
    name: 'productWeightField',
    value: settings.productWeightField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('productWeightField')
}) }}

{% set productWeightUnitFieldInput %}
    <div class="flex">
        <div>
            {{ forms.select({
                id: 'productWeightUnitField',
                name: 'productWeightUnitField',
                value: settings.productWeightUnitField,
                options: [
                    {label: (isCommerceInstalled ? 'Use Weight Unit'|t('google-shopping-feed-pro') : ''), value: ''},
                    {label: 'Custom Value...'|t('google-shopping-feed-pro'), value: constant('OPTION_CUSTOM_VALUE', settings)}
                ]|merge(fieldOptions),
                toggle: true,
                targetPrefix: 'productWeightUnit-field'
            }) }}
        </div>
        <div class="flex-grow">
            <div id="productWeightUnit-field{{ constant('OPTION_CUSTOM_VALUE', settings) }}"{{ not craft.googleShoppingFeedPro.isCustomValue(settings.productWeightUnitField) ? ' class="hidden"' }}>
                {{ forms.text({
                    id: 'productWeightUnitCustomValue',
                    class: 'ltr',
                    name: 'productWeightUnitCustomValue',
                    value: settings.productWeightUnitCustomValue
                }) }}
            </div>
        </div>
    </div>
{% endset %}

{{ forms.field({
    label: 'Product Weight Unit'|t('google-shopping-feed-pro'),
    instructions: 'The product\'s weight unit.'|t('google-shopping-feed-pro'),
    errors: settings.getErrors('productWeightUnitField') ?: settings.getErrors('productWeightUnitCustomValue')
}, productWeightUnitFieldInput) }}

{{ forms.selectField({
    label: 'Product Detail'|t('google-shopping-feed-pro'),
    instructions: 'Technical specifications or additional details of a product. Optional.'|t('google-shopping-feed-pro'),
    id: 'productDetailField',
    name: 'productDetailField',
    value: settings.productDetailField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('productDetailField')
}) }}

{{ forms.selectField({
    label: 'Product Highlight'|t('google-shopping-feed-pro'),
    instructions: 'The most relevant highlights of a products. Optional.'|t('google-shopping-feed-pro'),
    id: 'productHighlightField',
    name: 'productHighlightField',
    value: settings.productHighlightField,
    options: {'': ''}|merge(fieldOptions),
    errors: settings.getErrors('productHighlightField')
}) }}
